{"config":{"lang":["en","it"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"pybuildingenergy","text":"<p>Welcome to pybuildingenergy documentation!</p> <p>This site is automatically generated using MkDocs and the Material for MkDocs theme.</p>"},{"location":"#quick-start","title":"Quick start","text":"<p>```bash pip install mylib</p>"},{"location":"iso_15316/","title":"Introduction to ISO 15316-1 / EN 15316-1","text":""},{"location":"iso_15316/#overview","title":"Overview","text":"<p>ISO 15316-1 (equivalent to EN 15316-1 in Europe) defines the framework and general principles for calculating the energy performance of building heating and domestic hot water systems. It provides a systematic, modular approach that allows engineers, researchers, and software tools to evaluate and compare energy efficiency across different system configurations.</p> <p>This standard is part of the broader Energy Performance of Buildings (EPB) suite developed under the EU Energy Performance of Buildings Directive (EPBD).</p>"},{"location":"iso_15316/#scope","title":"Scope","text":"<p>The standard covers water-based heating and DHW systems where heat is generated, distributed, and emitted to maintain indoor comfort. It applies to: - Emission systems (radiators, floor heating, fan coils, etc.) - Distribution systems (piping, manifolds, circulation) - Storage components (thermal buffers, DHW tanks) - Generation systems (boilers, heat pumps, cogeneration)</p> <p>It does not include ventilation-only or purely air-based systems, except when heated by water circuits.</p>"},{"location":"iso_15316/#methodological-structure","title":"Methodological Structure","text":"<p>EN 15316-1 introduces a modular structure, dividing the entire heating system into interconnected subsystems:</p> <ol> <li>Emission (C.2\u2013C.5) \u2013 heat transfer from water to the indoor space  </li> <li>Distribution \u2013 transport of heat through pipes, including losses and auxiliaries  </li> <li>Storage \u2013 intermediate energy buffering or recovery  </li> <li>Generation \u2013 production of useful heat from a fuel or electricity source  </li> </ol> <p>Each module has its own energy balance:</p> \\[ \\text{Energy In} = \\text{Useful Output} + \\text{Losses} - \\text{Recoverable Losses} - \\text{Auxiliaries} \\] <p>The calculation proceeds in the direction:</p> \\[ \\text{Energy Needs (Building)} \\rightarrow \\text{Delivered Heat (Emission)} \\rightarrow \\text{Distribution} \\rightarrow \\text{Generation} \\rightarrow \\text{Primary Energy Input} \\] <p>This enables transparent energy tracking and consistent efficiency assessment across technologies.</p>"},{"location":"iso_15316/#objectives","title":"Objectives","text":"<p>The main objectives of ISO 15316-1 are to: - Provide a consistent calculation structure for all sub-systems in heating and DHW installations. - Define input and output data exchange between modules. - Enable comparability between different system types (e.g., boilers vs. heat pumps). - Serve as the reference method for EPB-compliant national calculation procedures.</p>"},{"location":"iso_15316/#key-principles","title":"Key Principles","text":"<ul> <li>System boundary definition \u2013 explicit separation of emission, distribution, storage, and generation.  </li> <li>Energy flow consistency \u2013 all sub-systems connect via clear input/output relationships.  </li> <li>Recoverable vs. non-recoverable losses \u2013 internal gains can offset building demand.  </li> <li>Auxiliary energy \u2013 electric or mechanical support energy is always accounted for.  </li> <li>Adaptability \u2013 compatible with both monthly and hourly calculation time steps.</li> </ul>"},{"location":"iso_15316/#benefits","title":"Benefits","text":"<ul> <li>Harmonized methodology for energy performance certificates, design tools, and research.  </li> <li>Facilitates diagnostic comparison of subsystems (e.g., identifying excessive distribution losses).  </li> <li>Supports policy implementation under EPBD and national building codes.  </li> <li>Enhances reproducibility and transparency in simulation and benchmarking.</li> </ul>"},{"location":"iso_15316/#relationship-with-subsequent-parts","title":"Relationship with Subsequent Parts","text":"<p>Part 1 provides the general framework only. Detailed formulas and reference values for each sub-system are defined in:</p> <ul> <li>EN 15316-2 \u2013 Generation systems  </li> <li>EN 15316-3 \u2013 Distribution systems  </li> <li>EN 15316-4 \u2013 Emission systems  </li> <li>EN 15316-5 \u2013 Control and auxiliary energy  </li> <li>EN 15316-6 \u2013 Domestic hot water systems</li> </ul>"},{"location":"iso_15316/#references","title":"References","text":"<ul> <li>EN 15316-1:2017 \u2013 Energy performance of buildings \u2014 Method for calculation of system energy requirements and system efficiencies \u2014 Part 1: General and energy performance expression. </li> <li>REHVA (2017) \u2014 Information Paper: CEN Standards for Heating and Domestic Hot Water Systems. </li> <li>CENSE Project (EU) \u2014 Application of the EPBD Calculation Framework.</li> </ul>"},{"location":"iso_15316_calculation_procedure/","title":"Calculation procedure","text":""},{"location":"iso_15316_calculation_procedure/#system-inputs","title":"SYSTEM INPUTS","text":"<p>The user must define the following parameters to perform the calculation of primary energy according to ISO 15316.1. The python class to which this calculation is requested is the HeatingSystemCalculator.</p> <p>Below is shown an example of a dictionary that must be passed to HeatingSystemCalculator in which the parameters necessary for the calculation are indicated.  The following parameters are the minimum required, this does not mean that it is possible to modify other parameters based on your own requests.  For example the table TB14 in the hereunder list. </p>"},{"location":"iso_15316_calculation_procedure/#emitter","title":"EMITTER","text":"<ul> <li>Nominal power: it is the power of the emitter in kW, defined in the product data. </li> <li>Emission efficiency: it is the efficiency of the emitter in %.</li> <li>Flow temperature control type: it is the type of control used to control the flow temperature of the emitter. The possible choice are the ones defined in the \"value\" column of the following table </li> </ul> <p>Table 1: Flow temperature control type</p> Value Description Type 1 - Based on demand The flow temperature is controlled based on the energy demand of the system Type 2 - Based on outdoor temperature The flow temperature is controlled based on the outdoor temperature Type 3 - Constant temperature The flow temperature is controlled based on a constant temperature <ul> <li>Emission control circuit: the value could be from 0 to 3, according to the following table:</li> </ul> <p>Table 2: Emission control circuit</p> Value Emission control type Description 0 C2 - Type 1 - Direct Connect Constant mass flow rate and varying water temperature 1 C3 - Type 2 - Indipendent flow rate Varying mass flow (constant temperature) 2 C4 - Type 3 - Heat exchanger Intermittent flow rate module, ON-OFF and varying temperature 3 C5 - Type 4 - Anti-condensate Constant flow rate and vaiable heat exchange <ul> <li> <p>Mixing valve: it is a boolean that indicates if a mixing valve is used. It refers to the varaible MIX_EM. Possible values: True or False</p> </li> <li> <p>TB14: it is the table that contains the data of the emitter. If it is not provided the default values are used and the emitter_type is set to the first one in the table.</p> </li> </ul> <p>Table 3: Emitter data</p> Index Emitter nominal delta air Temp Emitter nominal delta water Temp Emitter exponent Radiator 50 20 1.3 Floor heating 15 5 1.1 Fan coil 25 10 1.0"},{"location":"iso_15316_calculation_procedure/#generator","title":"GENERATOR","text":""},{"location":"iso_15316_calculation_procedure/#general","title":"GENERAL","text":"<p>Efficiency model</p> <p>The calculation of efficiency can be done using three type of choices: </p> <p>1) 'simple'       : linear heuristic vs. return temperature 2) 'parametric'   : piecewise/threshold model 3) 'manufacturer' : 1D (return) or 2D (flow/return) map</p> <p>the calculation is made using the function _efficiency_from_model() that requires one of the above options: simple, parameteric, manufacturer. It calculates how efficiently the generator converts input energy (like gas, electricity, or fuel) into useful heat, depending on the flow (\u03b8flw) and return (\u03b8ret) water temperatures on the primary circuit side. Explanation of each option:</p> <p>1) 'simple': it is a linear heuristic based on the return temperature.  <pre><code>if model == 'simple':\n    if \u03b8ret &lt; 50.0:\n        eff = 110.0 - 0.5 * (\u03b8ret - 20.0)\n    else:\n        eff = 95.0\n    return max(min(eff, 110.0), 1.0)\n</code></pre> This is a simplified heuristic formula typically used for condensing boilers:</p> <ul> <li>When the return temperature (\u03b8ret) is below 50\u00b0C, condensation occurs in the flue gases, recovering latent heat.      \u2192 The efficiency increases up to ~110% (based on lower heating value, PCI).</li> <li>When \u03b8ret \u2265 50\u00b0C, condensation stops, and the efficiency drops to around 95%.</li> </ul> <p>Meaning: | Condition | Return Temp | Typical Generator Behavior | Efficiency | Condesning mode | &lt; 50\u00b0C | Flue gas condensation \u2192 higher recovery | 95-110% | Ono-condensing |  \u2265 50\u00b0C | No condensation | ~95% |</p> <p>2) 'parametric': it is a piecewise/threshold model based on the linear interpolation of return temperature.  <pre><code>if model == 'parametric':\n    eta_max = self.eta_max\n    eta_nc  = self.eta_no_cond\n    T_min   = self.T_ret_min\n    T_thr   = self.T_ret_thr\n\n    Tret_clip = max(min(\u03b8ret, T_thr), T_min)\n    slope = (eta_max - eta_nc) / (T_min - T_thr)\n    if \u03b8ret &lt;= T_thr:\n        eff = eta_max + slope * (Tret_clip - T_min)\n    else:\n        eff = eta_nc\n</code></pre> This is a parameterized linear model that allows flexible configuration without a full manufacturer curve:</p> <ul> <li>eta_max: maximum efficiency (e.g., 110%) when return temperature is low (T_min)</li> <li>eta_nc: non-condensing efficiency (e.g., 95%) when return temperature is high (T_thr)</li> <li>T_min: minimum return temperature (lower bound of condensing operation)</li> <li>T_thr: threshold temperature where condensation ceases</li> </ul> <p>Example of input systems:  <pre><code>INPUT_SYSTEM_HVAC  = {\n\n    # ---- emitter ----\n    'emitter_type': 'Floor heating',\n    'nominal_power': 8,\n    'emission_efficiency': 90,\n    'flow_temp_control_type': 'Type 2 - Based on outdoor temperature',\n    'selected_emm_cont_circuit': 0,\n    'mixing_valve': True,\n    # 'TB14': custom_TB14, #  &lt;- Uncomment and upload your emittere table, oterwhise the default stored in gloabl_inputs.py is used\n\n    # --- generator ---\n    'full_load_power': 27,                  # kW\n    'max_monthly_load_factor': 100,         # %\n    'tH_gen_i_ON': 1,                       # h\n    'auxiliary_power_generator': 0,         # %\n    'fraction_of_auxiliary_power_generator': 40,   # %\n    'generator_circuit': 'independent',     # 'direct' | 'independent'\n\n    # Primary: independent climatic curve\n    'gen_flow_temp_control_type': 'Type A - Based on outdoor temperature',\n    'gen_outdoor_temp_data': pd.DataFrame({\n        \"\u03b8ext_min_gen\": [-7],\n        \"\u03b8ext_max_gen\": [15],\n        \"\u03b8flw_gen_max\": [60],\n        \"\u03b8flw_gen_min\": [35],\n    }, index=[\"Generator curve\"]),\n\n    'speed_control_generator_pump': 'variable',\n    'generator_nominal_deltaT': 20,         # \u00b0C\n\n    # Efficiency model\n    'efficiency_model': 'simple',\n\n    # Calculation options\n    'calc_when_QH_positive_only': False,\n    'off_compute_mode': 'full',\n\n    # Optional explicit generator setpoints (commented by default)\n    # '\u03b8HW_gen_flw_set': 50,\n    # '\u03b8HW_gen_ret_set': 40,\n}\n</code></pre></p>"},{"location":"iso_15316_heating_circuit/","title":"Heating circuit.","text":"<p>The library provides modules for evaluating 4 types of hydraulic circuits, where, based on Table C.1 of the standard, for each circuit it is identified which type of emission system to use and the type of control. as defined below: </p> Code Module Emitters Control C2 Constan mass flow rate and varying water temperature Radiators and Panels Heating curve, mixing valvew and variable generation temperature C3 Varying mass flow (constant temperature) Radiators, Panels, Heating coils Thermostatic valve, flow rate control with two way valve C4 ON-OFF and varying temperature Radiators and Panels On-Off control C5 Varying heat exchange Fan-coil, heating coils emitters with on-off blower  and continuos circulation 3 way by-pass valve control <p>All modules allow the us of a mixing valve to allow different temperatures in the different circuits. A distinction is made between:  - the emitter tmperature and flow rate; - the circuit temperature and flow rate; </p> <p>They differ where there is a mixing or by-pass 3 way valve in the circuit.</p>"},{"location":"iso_15316_heating_circuit/#c2-constant-mass-flow-rate-and-varying-water-temperature","title":"C2 - constant mass flow rate and varying water temperature","text":"<p>This conffiguration is for sample heating circuit with varying temperature and constant flow, with mixing valve. </p> Figure 1: System C2 - Example of heating circuit with varying temperature and constant flow, with mixing valve.  <p>The application and possible control parameters to be used are:</p> System Application Control Parameters Radiators Heating curve, flow/return \u0394\u03b8 Heating panel Heating curve, flow/return \u0394\u03b8 <p>The circuit can have a mixing valve or having a different control on boiler size (ex. climatic heating curve).</p>"},{"location":"iso_15316_heating_circuit/#inputs-required","title":"Inputs required","text":"<p>Constants</p> <p>Water specific heat - cw: 1.16 kWh/m3K</p> <p>Product data: </p> Parameter Symbol Unit Default Accetable Description Nominal emitted power \u03a6H_em_n kW - 0.8..4 * heat load Manufacturer's specified heat output in kilowatts (kW) under standard operating conditions Nominal delta T (\u0394\u03b8) air \u0394\u03b8H_em_air \u00b0C - 1..70 Standard temperature difference used for designing and evaluating HVAC systems, typically between the water entering and leaving the system, and the air entering and leaving the system. Emitter exponent nH_em - - 1...1.5 The emitter exponent is a value that defines the relationship between flow rate and pressure for an emitter <p>System data</p> <p>if a mixing valve is used, the variable MIX_EM == True. </p> <p>Process control data</p> Parameter Symbol Unit Default Accetable Description Design temperature flow return \u0394\u03b8 - nominal delta T water \u0394\u03b8H_em_n \u00b0C - - Nominal difference between the hot water supply temperature and the return water temperature in a heating system, depends on the typy of emitter, eg. Radiator: 20 (70-50), Heating floor 5 (43-38), etc. <p>Operating condition</p> <p>These values can be obtained simulating the thermal zone using the module iso 52016 of the library.</p> Parameter Symbol Unit Default Accetable Description Internal temperature \u03b8int \u00b0C - 0-50 Indoor operative temperature of the thermal zone, it is the T_op(\u00b0C) calcualted from the module 52016 Emitter heat output \u00a0QH_em_i_out kWh - - energy that sould be provided by the emission system to make up for energy need of the building. Pratically considering the energy path it si equal to the energy need of the building minus the system recoverable losses Operating time tH_em_i h 1 - Operating time of the system, generally in hours maximum Distribution water temperature \u03b8H_nod_out \u00a0\u00b0C - - it is the maximum temperature of the ditribution system, this values depends on the type of applied control. If MIX_VALVE == False, this value is equal to the minimum of the emitter temperature \u03b8H_em_flw_min"},{"location":"iso_15316_heating_circuit/#outputs","title":"Outputs","text":"<p>The follwing outputs are calculated: </p> Parameter Symbol Unit Default Accetable Description Temperature of the flow (IN) circuit \u03b8H_ecr_flw \u00b0C - - temperature of the circuit at the flow point - water inlet Temperature of the return (OUT) circuit \u03b8H_ecr_ret \u00b0C - - temperature of the circuit at the return point - water outlet Flow rate of the circuit V_H_cr m3/h - - Flow rate of the circuit Distribution flow temperture \u03b8H_dis_flw \u00b0C - - temperature of the distribution circuit - water inlet Distribution return temperture \u03b8H_dis_ret \u00b0C - - temperature of the distribution circuit - water outlet Emission Load Factor \u03b2H_em - - - Ratio between the average emitter power and the nominal emitter power Minimu required flow temperature \u03b8H_em_flw_min \u00b0C - - Minimum required flow temperature of the emitter"},{"location":"","title":"pybuildingenergy","text":"<p>Welcome to pybuildingenergy documentation!</p> <p>This site is automatically generated using MkDocs and the Material for MkDocs theme.</p>"},{"location":"#quick-start","title":"Quick start","text":"<p>```bash pip install mylib</p>"},{"location":"iso_15316/","title":"Introduction to ISO 15316-1 / EN 15316-1","text":""},{"location":"iso_15316/#overview","title":"Overview","text":"<p>ISO 15316-1 (equivalent to EN 15316-1 in Europe) defines the framework and general principles for calculating the energy performance of building heating and domestic hot water systems. It provides a systematic, modular approach that allows engineers, researchers, and software tools to evaluate and compare energy efficiency across different system configurations.</p> <p>This standard is part of the broader Energy Performance of Buildings (EPB) suite developed under the EU Energy Performance of Buildings Directive (EPBD).</p>"},{"location":"iso_15316/#scope","title":"Scope","text":"<p>The standard covers water-based heating and DHW systems where heat is generated, distributed, and emitted to maintain indoor comfort. It applies to: - Emission systems (radiators, floor heating, fan coils, etc.) - Distribution systems (piping, manifolds, circulation) - Storage components (thermal buffers, DHW tanks) - Generation systems (boilers, heat pumps, cogeneration)</p> <p>It does not include ventilation-only or purely air-based systems, except when heated by water circuits.</p>"},{"location":"iso_15316/#methodological-structure","title":"Methodological Structure","text":"<p>EN 15316-1 introduces a modular structure, dividing the entire heating system into interconnected subsystems:</p> <ol> <li>Emission (C.2\u2013C.5) \u2013 heat transfer from water to the indoor space  </li> <li>Distribution \u2013 transport of heat through pipes, including losses and auxiliaries  </li> <li>Storage \u2013 intermediate energy buffering or recovery  </li> <li>Generation \u2013 production of useful heat from a fuel or electricity source  </li> </ol> <p>Each module has its own energy balance:</p> \\[ \\text{Energy In} = \\text{Useful Output} + \\text{Losses} - \\text{Recoverable Losses} - \\text{Auxiliaries} \\] <p>The calculation proceeds in the direction:</p> \\[ \\text{Energy Needs (Building)} \\rightarrow \\text{Delivered Heat (Emission)} \\rightarrow \\text{Distribution} \\rightarrow \\text{Generation} \\rightarrow \\text{Primary Energy Input} \\] <p>This enables transparent energy tracking and consistent efficiency assessment across technologies.</p>"},{"location":"iso_15316/#objectives","title":"Objectives","text":"<p>The main objectives of ISO 15316-1 are to: - Provide a consistent calculation structure for all sub-systems in heating and DHW installations. - Define input and output data exchange between modules. - Enable comparability between different system types (e.g., boilers vs. heat pumps). - Serve as the reference method for EPB-compliant national calculation procedures.</p>"},{"location":"iso_15316/#key-principles","title":"Key Principles","text":"<ul> <li>System boundary definition \u2013 explicit separation of emission, distribution, storage, and generation.  </li> <li>Energy flow consistency \u2013 all sub-systems connect via clear input/output relationships.  </li> <li>Recoverable vs. non-recoverable losses \u2013 internal gains can offset building demand.  </li> <li>Auxiliary energy \u2013 electric or mechanical support energy is always accounted for.  </li> <li>Adaptability \u2013 compatible with both monthly and hourly calculation time steps.</li> </ul>"},{"location":"iso_15316/#benefits","title":"Benefits","text":"<ul> <li>Harmonized methodology for energy performance certificates, design tools, and research.  </li> <li>Facilitates diagnostic comparison of subsystems (e.g., identifying excessive distribution losses).  </li> <li>Supports policy implementation under EPBD and national building codes.  </li> <li>Enhances reproducibility and transparency in simulation and benchmarking.</li> </ul>"},{"location":"iso_15316/#relationship-with-subsequent-parts","title":"Relationship with Subsequent Parts","text":"<p>Part 1 provides the general framework only. Detailed formulas and reference values for each sub-system are defined in:</p> <ul> <li>EN 15316-2 \u2013 Generation systems  </li> <li>EN 15316-3 \u2013 Distribution systems  </li> <li>EN 15316-4 \u2013 Emission systems  </li> <li>EN 15316-5 \u2013 Control and auxiliary energy  </li> <li>EN 15316-6 \u2013 Domestic hot water systems</li> </ul>"},{"location":"iso_15316/#references","title":"References","text":"<ul> <li>EN 15316-1:2017 \u2013 Energy performance of buildings \u2014 Method for calculation of system energy requirements and system efficiencies \u2014 Part 1: General and energy performance expression. </li> <li>REHVA (2017) \u2014 Information Paper: CEN Standards for Heating and Domestic Hot Water Systems. </li> <li>CENSE Project (EU) \u2014 Application of the EPBD Calculation Framework.</li> </ul>"},{"location":"iso_15316_calculation_procedure/","title":"Calculation procedure","text":""},{"location":"iso_15316_calculation_procedure/#system-inputs","title":"SYSTEM INPUTS","text":"<p>The user must define the following parameters to perform the calculation of primary energy according to ISO 15316.1. The python class to which this calculation is requested is the HeatingSystemCalculator.</p> <p>Below is shown an example of a dictionary that must be passed to HeatingSystemCalculator in which the parameters necessary for the calculation are indicated.  The following parameters are the minimum required, this does not mean that it is possible to modify other parameters based on your own requests.  For example the table TB14 in the hereunder list. </p>"},{"location":"iso_15316_calculation_procedure/#emitter","title":"EMITTER","text":"<ul> <li>Nominal power: it is the power of the emitter in kW, defined in the product data. </li> <li>Emission efficiency: it is the efficiency of the emitter in %.</li> <li>Flow temperature control type: it is the type of control used to control the flow temperature of the emitter. The possible choice are the ones defined in the \"value\" column of the following table </li> </ul> <p>Table 1: Flow temperature control type</p> Value Description Type 1 - Based on demand The flow temperature is controlled based on the energy demand of the system Type 2 - Based on outdoor temperature The flow temperature is controlled based on the outdoor temperature Type 3 - Constant temperature The flow temperature is controlled based on a constant temperature <ul> <li>Emission control circuit: the value could be from 0 to 3, according to the following table:</li> </ul> <p>Table 2: Emission control circuit</p> Value Emission control type Description 0 C2 - Type 1 - Direct Connect Constant mass flow rate and varying water temperature 1 C3 - Type 2 - Indipendent flow rate Varying mass flow (constant temperature) 2 C4 - Type 3 - Heat exchanger Intermittent flow rate module, ON-OFF and varying temperature 3 C5 - Type 4 - Anti-condensate Constant flow rate and vaiable heat exchange <ul> <li> <p>Mixing valve: it is a boolean that indicates if a mixing valve is used. It refers to the varaible MIX_EM. Possible values: True or False</p> </li> <li> <p>TB14: it is the table that contains the data of the emitter. If it is not provided the default values are used and the emitter_type is set to the first one in the table.</p> </li> </ul> <p>Table 3: Emitter data</p> Index Emitter nominal delta air Temp Emitter nominal delta water Temp Emitter exponent Radiator 50 20 1.3 Floor heating 15 5 1.1 Fan coil 25 10 1.0"},{"location":"iso_15316_calculation_procedure/#generator","title":"GENERATOR","text":""},{"location":"iso_15316_calculation_procedure/#general","title":"GENERAL","text":"<p>Efficiency model</p> <p>The calculation of efficiency can be done using three type of choices: </p> <p>1) 'simple'       : linear heuristic vs. return temperature 2) 'parametric'   : piecewise/threshold model 3) 'manufacturer' : 1D (return) or 2D (flow/return) map</p> <p>the calculation is made using the function _efficiency_from_model() that requires one of the above options: simple, parameteric, manufacturer. It calculates how efficiently the generator converts input energy (like gas, electricity, or fuel) into useful heat, depending on the flow (\u03b8flw) and return (\u03b8ret) water temperatures on the primary circuit side. Explanation of each option:</p> <p>1) 'simple': it is a linear heuristic based on the return temperature.  <pre><code>if model == 'simple':\n    if \u03b8ret &lt; 50.0:\n        eff = 110.0 - 0.5 * (\u03b8ret - 20.0)\n    else:\n        eff = 95.0\n    return max(min(eff, 110.0), 1.0)\n</code></pre> This is a simplified heuristic formula typically used for condensing boilers:</p> <ul> <li>When the return temperature (\u03b8ret) is below 50\u00b0C, condensation occurs in the flue gases, recovering latent heat.      \u2192 The efficiency increases up to ~110% (based on lower heating value, PCI).</li> <li>When \u03b8ret \u2265 50\u00b0C, condensation stops, and the efficiency drops to around 95%.</li> </ul> <p>Meaning: | Condition | Return Temp | Typical Generator Behavior | Efficiency | Condesning mode | &lt; 50\u00b0C | Flue gas condensation \u2192 higher recovery | 95-110% | Ono-condensing |  \u2265 50\u00b0C | No condensation | ~95% |</p> <p>2) 'parametric': it is a piecewise/threshold model based on the linear interpolation of return temperature.  <pre><code>if model == 'parametric':\n    eta_max = self.eta_max\n    eta_nc  = self.eta_no_cond\n    T_min   = self.T_ret_min\n    T_thr   = self.T_ret_thr\n\n    Tret_clip = max(min(\u03b8ret, T_thr), T_min)\n    slope = (eta_max - eta_nc) / (T_min - T_thr)\n    if \u03b8ret &lt;= T_thr:\n        eff = eta_max + slope * (Tret_clip - T_min)\n    else:\n        eff = eta_nc\n</code></pre> This is a parameterized linear model that allows flexible configuration without a full manufacturer curve:</p> <ul> <li>eta_max: maximum efficiency (e.g., 110%) when return temperature is low (T_min)</li> <li>eta_nc: non-condensing efficiency (e.g., 95%) when return temperature is high (T_thr)</li> <li>T_min: minimum return temperature (lower bound of condensing operation)</li> <li>T_thr: threshold temperature where condensation ceases</li> </ul> <p>Example of input systems:  <pre><code>INPUT_SYSTEM_HVAC  = {\n\n    # ---- emitter ----\n    'emitter_type': 'Floor heating',\n    'nominal_power': 8,\n    'emission_efficiency': 90,\n    'flow_temp_control_type': 'Type 2 - Based on outdoor temperature',\n    'selected_emm_cont_circuit': 0,\n    'mixing_valve': True,\n    # 'TB14': custom_TB14, #  &lt;- Uncomment and upload your emittere table, oterwhise the default stored in gloabl_inputs.py is used\n\n    # --- generator ---\n    'full_load_power': 27,                  # kW\n    'max_monthly_load_factor': 100,         # %\n    'tH_gen_i_ON': 1,                       # h\n    'auxiliary_power_generator': 0,         # %\n    'fraction_of_auxiliary_power_generator': 40,   # %\n    'generator_circuit': 'independent',     # 'direct' | 'independent'\n\n    # Primary: independent climatic curve\n    'gen_flow_temp_control_type': 'Type A - Based on outdoor temperature',\n    'gen_outdoor_temp_data': pd.DataFrame({\n        \"\u03b8ext_min_gen\": [-7],\n        \"\u03b8ext_max_gen\": [15],\n        \"\u03b8flw_gen_max\": [60],\n        \"\u03b8flw_gen_min\": [35],\n    }, index=[\"Generator curve\"]),\n\n    'speed_control_generator_pump': 'variable',\n    'generator_nominal_deltaT': 20,         # \u00b0C\n\n    # Efficiency model\n    'efficiency_model': 'simple',\n\n    # Calculation options\n    'calc_when_QH_positive_only': False,\n    'off_compute_mode': 'full',\n\n    # Optional explicit generator setpoints (commented by default)\n    # '\u03b8HW_gen_flw_set': 50,\n    # '\u03b8HW_gen_ret_set': 40,\n}\n</code></pre></p>"},{"location":"iso_15316_heating_circuit/","title":"Heating circuit.","text":"<p>The library provides modules for evaluating 4 types of hydraulic circuits, where, based on Table C.1 of the standard, for each circuit it is identified which type of emission system to use and the type of control. as defined below: </p> Code Module Emitters Control C2 Constan mass flow rate and varying water temperature Radiators and Panels Heating curve, mixing valvew and variable generation temperature C3 Varying mass flow (constant temperature) Radiators, Panels, Heating coils Thermostatic valve, flow rate control with two way valve C4 ON-OFF and varying temperature Radiators and Panels On-Off control C5 Varying heat exchange Fan-coil, heating coils emitters with on-off blower  and continuos circulation 3 way by-pass valve control <p>All modules allow the us of a mixing valve to allow different temperatures in the different circuits. A distinction is made between:  - the emitter tmperature and flow rate; - the circuit temperature and flow rate; </p> <p>They differ where there is a mixing or by-pass 3 way valve in the circuit.</p>"},{"location":"iso_15316_heating_circuit/#c2-constant-mass-flow-rate-and-varying-water-temperature","title":"C2 - constant mass flow rate and varying water temperature","text":"<p>This conffiguration is for sample heating circuit with varying temperature and constant flow, with mixing valve. </p> Figure 1: System C2 - Example of heating circuit with varying temperature and constant flow, with mixing valve.  <p>The application and possible control parameters to be used are:</p> System Application Control Parameters Radiators Heating curve, flow/return \u0394\u03b8 Heating panel Heating curve, flow/return \u0394\u03b8 <p>The circuit can have a mixing valve or having a different control on boiler size (ex. climatic heating curve).</p>"},{"location":"iso_15316_heating_circuit/#inputs-required","title":"Inputs required","text":"<p>Constants</p> <p>Water specific heat - cw: 1.16 kWh/m3K</p> <p>Product data: </p> Parameter Symbol Unit Default Accetable Description Nominal emitted power \u03a6H_em_n kW - 0.8..4 * heat load Manufacturer's specified heat output in kilowatts (kW) under standard operating conditions Nominal delta T (\u0394\u03b8) air \u0394\u03b8H_em_air \u00b0C - 1..70 Standard temperature difference used for designing and evaluating HVAC systems, typically between the water entering and leaving the system, and the air entering and leaving the system. Emitter exponent nH_em - - 1...1.5 The emitter exponent is a value that defines the relationship between flow rate and pressure for an emitter <p>System data</p> <p>if a mixing valve is used, the variable MIX_EM == True. </p> <p>Process control data</p> Parameter Symbol Unit Default Accetable Description Design temperature flow return \u0394\u03b8 - nominal delta T water \u0394\u03b8H_em_n \u00b0C - - Nominal difference between the hot water supply temperature and the return water temperature in a heating system, depends on the typy of emitter, eg. Radiator: 20 (70-50), Heating floor 5 (43-38), etc. <p>Operating condition</p> <p>These values can be obtained simulating the thermal zone using the module iso 52016 of the library.</p> Parameter Symbol Unit Default Accetable Description Internal temperature \u03b8int \u00b0C - 0-50 Indoor operative temperature of the thermal zone, it is the T_op(\u00b0C) calcualted from the module 52016 Emitter heat output \u00a0QH_em_i_out kWh - - energy that sould be provided by the emission system to make up for energy need of the building. Pratically considering the energy path it si equal to the energy need of the building minus the system recoverable losses Operating time tH_em_i h 1 - Operating time of the system, generally in hours maximum Distribution water temperature \u03b8H_nod_out \u00a0\u00b0C - - it is the maximum temperature of the ditribution system, this values depends on the type of applied control. If MIX_VALVE == False, this value is equal to the minimum of the emitter temperature \u03b8H_em_flw_min"},{"location":"iso_15316_heating_circuit/#outputs","title":"Outputs","text":"<p>The follwing outputs are calculated: </p> Parameter Symbol Unit Default Accetable Description Temperature of the flow (IN) circuit \u03b8H_ecr_flw \u00b0C - - temperature of the circuit at the flow point - water inlet Temperature of the return (OUT) circuit \u03b8H_ecr_ret \u00b0C - - temperature of the circuit at the return point - water outlet Flow rate of the circuit V_H_cr m3/h - - Flow rate of the circuit Distribution flow temperture \u03b8H_dis_flw \u00b0C - - temperature of the distribution circuit - water inlet Distribution return temperture \u03b8H_dis_ret \u00b0C - - temperature of the distribution circuit - water outlet Emission Load Factor \u03b2H_em - - - Ratio between the average emitter power and the nominal emitter power Minimu required flow temperature \u03b8H_em_flw_min \u00b0C - - Minimum required flow temperature of the emitter"}]}